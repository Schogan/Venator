<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Venator</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel = "stylesheet"
          type = "text/css"
          th:href = "@{/css/master.css}" />
    <style>
        .Sameline {
            display: inline-flex;
            border: 2px solid gray;
            padding:2px;
            margin:10px;
            flex-direction: column;
        }
    </style>
</head>
<body><div class="Sameline"><div>
<h1>Result</h1>
    <ul id="myUL">
        <li th:each="regionData: ${processResult}">
            <span class="caret" th:text="'Region: ' +${regionData.key}">Region</span><br>
            <ul class="nested">
                <li th:each="constData: ${regionData.value}">
                    <span class="caret" th:text="'Constellation: ' +${constData.key}">Constellation</span><br>
                    <ul class="nested">
                        <li th:each="systemData: ${constData.value}">
                            <span class="caret" th:text="'System: ' +${systemData.key}">System</span><br>
                            <ul class="nested">
                                <td th:text="'NPC Kills: ' +${systemData.value.get(0)}"/><br>
                                <td th:text="'Pod Kills: ' +${systemData.value.get(1)}"/><br>
                                <td th:text="'Ship Kills: ' +${systemData.value.get(2)}"/><br>
                                <td th:text="'Number of Jumps: ' +${systemData.value.get(3)}"/><br>
                                <br>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
<a href="/processSelection">Return to Region select</a>
</div></div>
<div class="Sameline">
    <h1>NPC Kills By System</h1>
    <li th:each="nextSystem: ${npcKills}">
        <td th:text="${nextSystem.key}+ ': '+${nextSystem.value}"/><br>
    </li>
</div>
</body>

<script>
    var toggler = document.getElementsByClassName("caret");
    var i;

    for (i = 0; i < toggler.length; i++) {
        toggler[i].addEventListener("click", function() {
            this.parentElement.querySelector(".nested").classList.toggle("active");
            this.classList.toggle("caret-down");
        });
    }
</script>
</html>